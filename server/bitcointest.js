import fetch from 'isomorphic-fetch';
import bitcoin from 'bitcoinjs-lib';
import { txData } from './bitcoin_helper';

const URL = 'https://blockexplorer.com/api/tx/send'
const data = {
   rawtx: '0100000002c68419796bced897f39a2ad8926b9dff4f44a0e59eab8ebad176274bf1ac679200000000fd440100473044022067451ebcb4a2a8713513923db9a7163a4136ff9ba05df2a1c4d361a5c20a480d02205595fd576d0ed1115c87a599c675bca6b398e7f8ed49384f816dd1cbd667f0d601473044022075e212baf2716611249fcca1af85ee0de233b4013b6d122d05df68552dac327f02203d8775a1ed84805c86dc435b70f04a1fa70df597e3f523c12ebf0a802f2a8e7a01473044022075e212baf2716611249fcca1af85ee0de233b4013b6d122d05df68552dac327f02203d8775a1ed84805c86dc435b70f04a1fa70df597e3f523c12ebf0a802f2a8e7a014c69522102181fddc3a46ce99c479eb83e3b4e52ea8ffb2def7997eeca6dfd424165bbce032103de1e179bf961821b7e83d55ffaef4f56a8701a7b7615f1e3bf28cb5f11720cce2103de1e179bf961821b7e83d55ffaef4f56a8701a7b7615f1e3bf28cb5f11720cce53aeffffffff0f55a97c2228ef81f0105fbae33344468f705d1f9ad7ac1a03bdf40545b975d001000000fd46010047304402200a737ee3c2340bc2e0695a92f9e01fecc59c8545188f3019885e36454d16223f02203fdabe8dc9e4239b6beb897bf16e892a73e45aacd96a30535278ef3ca8b98f50014830450221009a2ab2c92bb9a8224ad3107e260363a9c5f45dcfba48934b736324160788fed9022072b24c3a15a49352a83d3790c9c12cf0064f88bfd317acf77336bfa807c51d5b014830450221009a2ab2c92bb9a8224ad3107e260363a9c5f45dcfba48934b736324160788fed9022072b24c3a15a49352a83d3790c9c12cf0064f88bfd317acf77336bfa807c51d5b014c69522102181fddc3a46ce99c479eb83e3b4e52ea8ffb2def7997eeca6dfd424165bbce032103de1e179bf961821b7e83d55ffaef4f56a8701a7b7615f1e3bf28cb5f11720cce2103de1e179bf961821b7e83d55ffaef4f56a8701a7b7615f1e3bf28cb5f11720cce53aeffffffff0162260500000000001976a914934f4f71f8fd0b334f1accd39fef82a0efe6eb1c88ac00000000'
}

function broadcast() {
   return fetch(URL, {
      method: 'post',
      body: JSON.stringify(data)
   })
   .then((res) => {
      console.log('here: ', res)
      return res
   })
}

broadcast().then((res) => {
   console.log('res: ', res)
})
